(this["webpackJsonpfood-language-variety"]=this["webpackJsonpfood-language-variety"]||[]).push([[0],{19:function(e,t,n){e.exports=n(31)},24:function(e,t,n){},25:function(e,t,n){},26:function(e,t,n){},27:function(e,t,n){},30:function(e,t,n){},31:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),o=n(11),l=n.n(o),c=(n(24),n(7)),i=n(8),s=n(10),u=n(9);n(25);function m(e){var t=e.selected===e.alt;return r.a.createElement("li",{className:t?"selected":""},r.a.createElement("img",{src:e.link,alt:e.alt,onClick:function(t){return e.onClick(t)}}),r.a.createElement("span",null,e.alt))}n(26);var d=function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"renderFoodItem",value:function(e,t,n){return r.a.createElement(m,{key:e.key,link:e.image,alt:e.key,onClick:t,selected:n})}},{key:"render",value:function(e){var t=this,n=this.props.foods.map((function(e){return t.renderFoodItem(e,t.props.onClick,t.props.selected)}));return r.a.createElement(r.a.Fragment,null,r.a.createElement("p",null,r.a.createElement("strong",null,"Selected food:")," ",this.props.selected),r.a.createElement("section",{className:"FoodsContainer"},r.a.createElement("ul",null,n)))}}]),n}(a.Component),h=n(18),p=n(3),f=n.n(p),g=n(33),y=n(36),k=n(34),v=n(35),E=(n(27),function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).colors=["green","red","blue","orange"],a.markers={green:f.a.icon({iconUrl:"iconGreen.png",iconSize:[20,20]}),red:f.a.icon({iconUrl:"iconRed.png",iconSize:[20,20]}),blue:f.a.icon({iconUrl:"iconBlue.png",iconSize:[20,20]}),orange:f.a.icon({iconUrl:"iconOrange.png",iconSize:[20,20]})},a}return Object(i.a)(n,[{key:"renderMarker",value:function(e,t){var n=[e.lat,e.lng];return r.a.createElement(g.a,{key:n[0]+n[1],position:n,icon:this.markers[t]},r.a.createElement(y.a,null,e.name," ",r.a.createElement("br",null)," ",e.synonyms))}},{key:"render",value:function(e){var t=this,n={},a=0,o=this.props.places.map((function(e){var r,o,l=Object(h.a)(e.synonyms);try{for(l.s();!(o=l.n()).done;){var c=o.value;n.hasOwnProperty(c)?r=n[c]:(n[c]=t.colors[a],r=n[c],a+=1)}}catch(i){l.e(i)}finally{l.f()}return t.renderMarker(e,r)})),l=[40.73061,-73.935242];return r.a.createElement(k.a,{center:l,zoom:3},r.a.createElement(v.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"http://{s}.tile.osm.org/{z}/{x}/{y}.png"}),o)}}]),n}(a.Component)),b=(n(30),function(e){Object(s.a)(n,e);var t=Object(u.a)(n);function n(e){var a;return Object(c.a)(this,n),(a=t.call(this,e)).componentDidMount=function(){a.setState({loading:!0}),a.data.all=a.readJson(a.jsonPath).then((function(e){a.data.all=e,console.log("original data",a.data.all),a.data.all.sort(a.comparePlaceFrequency),console.log("after sort",a.data.all),a.data.images=e.map((function(e){return{key:e.key,image:e.image}})),console.log("The data was loaded",a.data.all,a.data.images),a.setState({loading:!1})}))},a.handleClick=function(e){a.setState({selectedFood:e.currentTarget.alt,places:a.data.all.find((function(t){return t.key===e.currentTarget.alt})).places})},a.data={images:[],all:{}},a.state={selectedFood:"almond",places:[],loading:!0},a.jsonPath="distribution.json",a}return Object(i.a)(n,[{key:"comparePlaceFrequency",value:function(e,t){return e.places.length>t.places.length?-1:1}},{key:"compareSynonymFrequency",value:function(e,t){var n=[],a=[];n.concat(e.places.map((function(e){return e.synonyms}))),a.concat(t.places.map((function(e){return e.synonyms})));var r=n.filter((function(e,t,n){return n.indexOf(e)===t})),o=a.filter((function(e,t,n){return n.indexOf(e)===t}));return console.log(r),console.log(o),r.length>o.length?1:-1}},{key:"readJson",value:function(e){return fetch(e).then((function(e){if(!e.ok)throw new Error("HTTP error "+e.status);return e.json()})).catch((function(){throw new Error("File not available")}))}},{key:"render",value:function(){return!0===this.state.loading?r.a.createElement("h2",null,"Loading..."):r.a.createElement(r.a.Fragment,null,r.a.createElement("header",null,r.a.createElement("h1",null,"Food language variety visualization")),r.a.createElement("main",null,r.a.createElement("aside",null,r.a.createElement(d,{foods:this.data.images,onClick:this.handleClick,selected:this.state.selectedFood})),r.a.createElement(E,{places:this.state.places})),r.a.createElement("footer",null,r.a.createElement("p",null,"Made with ",r.a.createElement("span",{role:"img","aria-label":"love"},"\ud83d\udc96")," by ",r.a.createElement("a",{href:"https://github.com/nmicht/"},"@nmicht")," and ",r.a.createElement("a",{href:"https://github.com/jbrew/"},"@jbrew")," at NYC"),r.a.createElement("p",null,"Data obtained from Wikipedia. Project licensed under MIT."),r.a.createElement("p",null,r.a.createElement("a",{href:"https://github.com/nmicht/food-language-variety"},"Fork from github"))))}}]),n}(a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));l.a.render(r.a.createElement(b,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[19,1,2]]]);
//# sourceMappingURL=main.04b71b6f.chunk.js.map